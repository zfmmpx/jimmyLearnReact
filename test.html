<script>
	var object = {
		data: [1, 2, 3],
		dataDouble: [1, 2, 3],
		double: function () {
			console.log("this inside of outerFn double()");
			console.log(this);
			return this.data.map(function (item) {
				console.log(this); // 这里的this指什么
				// return item * 2;
			});
		},
		doubleArrow: function () {
			console.log("this inside of outerFn doubleArrow()");
			console.log(this);
			return this.dataDouble.map(item => {
				console.log(this); // 这里的this指什么
				// return item * 2;
			});
		}
	}

	// object.double();
	// object.doubleArrow();
	console.log(object.double());
	console.log(object.doubleArrow());

	// Array.map polifill
	if (Array.prototype.map === undefined) {
		Array.prototype.map = function(fn) {
			var rv = [];
			for(var i = 0, l = this.length; i < l; i++) {
				rv.push(fn(this[i]));
			}
			return rv;
		};
	}
	
</script>